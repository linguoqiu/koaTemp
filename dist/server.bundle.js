(()=>{"use strict";var e={n:r=>{var o=r&&r.__esModule?()=>r.default:()=>r;return e.d(o,{a:o}),o},d:(r,o)=>{for(var t in o)e.o(o,t)&&!e.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:o[t]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=require("path");var o=e.n(r);const t=require("koa");var n=e.n(t);const a=require("koa-body");var s=e.n(a);const u=require("koa-helmet");var i=e.n(u);const c=require("koa-combine-routers");var l=e.n(c);const d=require("koa-router");var v=e.n(d);const p=new class{async getUserInfo(e){let{body:r,header:o}=e.request;return null!=o&&o.role&&"admin"===(null==o?void 0:o.role)?null!=r&&r.email&&null!=r&&r.name?(e.status=200,void(e.body={code:200,msg:"上传成功"})):(e.status=404,void(e.body={code:404,msg:"name与email不得为空"})):(e.status=401,void(e.body={code:401,msg:"unauthorized post"}))}},m=new(v());m.prefix("/api"),m.post("/user",p.getUserInfo);const q=m,y=l()(q),b=require("koa-json");var k=e.n(b);const f=require("@koa/cors");var g=e.n(f);const h=require("koa-static");var j=e.n(h);const w=require("koa-compose");var O=e.n(w);const I=new(n()),P=O()([s()(),j()(o().join("src","../public")),g()(),k()({pretty:!1,param:"pretty"}),i()(),y()]);I.use(P),I.listen(3e3)})();